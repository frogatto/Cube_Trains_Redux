{
id: "ct-map-marker",
prototype: ["drag_input"],

vars: {
	edit: 1,
	#--reference--#
	targeted_by: [],
	targets:	 [],
	},
	
on_mouse_start_drag: "[%PROTO%, set(tmp.origin, [self.midpoint_x, self.midpoint_y])]",
	
on_drop: "[
	add(targets, [filter(level.player.vars.monitor_over, 'mo', mo != self)[0]]),
	set(vars.reference_anchor, dump(tmp.origin)),
	set(vars.anchorPoint, 7),
	fire_event('update_position'),
	]",
	
on_dropped_on: "add(targeted_by, [arg])",

animation: [
	{
		id: "normal",
		image: "experimental/cube trains/custom/ct-map-marker.png",
		rect: [0,0,22,22],
		},
	],
}