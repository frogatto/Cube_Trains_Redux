
# Dialog controllers are generic objects designed to be used as triggers for scripts.
# Various usages include modifying:
#  - on_create to trigger something on the start of a level.
#  - on_triggered to trigger something when the player reaches a certain spot
{
id: "text_editor_controller",
zorder: 50,
always_active: true,
hidden_in_game: true,
//use_absolute_screen_coordinates: true,

editor_info: {
	category: "controllers",
	var: [
		{
			name: "default_text",
			type: "text",
			value: "''",
		},{
			name: "width",
			type: "int",
			value: "200",
		},
	],
},

vars: {
	button: {
		type: "text_editor",
		align_h: "center",
		align_v: "top",
		width: 200,
		on_change: "fire_event('change')",
	},
},

on_editor_changed_variable: "fire_event('create')",

on_create: "[
	set_widgets(nbtn),
	set(vars.button, nbtn),
	] where
	nbtn = self.vars.button + {
		width: self.vars.width,
		text: self.vars.default_text,
		}",

on_change: "[sound('click.wav')]",

on_end_anim: "animation('normal')",
animation: {
	id: "normal",
	image: "effects/particles.png",
	x: 86,
	y: 73,
	w: 28,
	h: 28,
	collide: [0,0,28,28],
	frames: 1,
	duration: 1000,
	},
}