[prototype]
	[vars]
		team="'evil'"
		points_value="5"
		turns_at_cliffs=1
		damage=1
	[/vars]

	[editor_info]
	category=bugs
		[var]
		name=x_bound
		type=x
		value="x - 200"
		[/var]
		[var]
		name=x2_bound
		type=x
		value="x2 + 200"
		[/var]
		[var]
		name=desired_height
		type=y
		value="y"
		[/var]
	[/editor_info]

	[consts]
	thrown_damage=5
	normal_damage=1
	springiness=100
	walking_type="'ant_black'"
	[/consts]

	prototype=ant

	traction_in_air=1000
	friction=1000
	traction=1000
	
	on_collide="[if(animation in ['fly','turnFly'],
	    [set(velocity_x, 0),
		 if(velocity_x*facing > 0, [animation('turnFly'), set(facing, -facing)],
				                   animation('fly'))],
					animation('stand'))]"
	on_collide_feet="if(animation in ['fly','turnFly'], animation('fly'),animation('stand'))"
	on_collide_object_body="
		  if(collide_with.vars.team != vars.team and collide_with_area = 'attack', get_hit_by(collide_with, 'hurtLoseWings'))"

	on_leave_hurtLoseWings_anim="[set(green, 255), set(blue, 255), fire_event('lose_wings'), set(type, consts.walking_type)]"
	on_enter_stand_anim="[%PROTO%, fire_event('lose_wings'), set(type, consts.walking_type)]"
	on_enter_walk_anim="[%PROTO%, fire_event('lose_wings'), set(type, consts.walking_type)]"
	on_enter_thrown_anim="[%PROTO%, fire_event('lose_wings'), set(type, consts.walking_type)]"

	on_process_fly="[if(abs(y - vars.desired_height) > 10, set(velocity_y, (600*if(vars.desired_height < y, -1, 1))), set(velocity_y, 0)),
	
	if(solid(level, front + facing*50, y, 1, y2 - y) or (facing < 0 and x < vars.x_bound) or (facing > 0 and x2 > vars.x2_bound),
	[facing(-facing), animation('turnFly')])]"
	
	on_end_anim="if(animation in ['fly','turnFly'], animation('fly'),animation('stand'))"

	on_create="[animation('fly'),set('traction_in_air',0)]"

	

[/prototype]
