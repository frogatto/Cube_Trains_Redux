[prototype]
	[vars]
		team="'evil'"
		points_value="5"
		damage=1
	[/vars]
	[editor_info]
	category=bugs
		[var]
		name=x_bound
		type=x
		value="x - 200"
		[/var]
		[var]
		name=x2_bound
		type=x
		value="x2 + 200"
		[/var]
		[var]
		name=desired_height
		type=y
		value="y"
		[/var]
	[/editor_info]
	[properties]
	hurt_velocity_y=0
	[/properties]
	
	prototype=hittable
	hitpoints=2
	springiness=100
	friction=1000
	traction=1000
	traction_in_air=1000
	has_feet=no
	solid_area=2,12,30,28


	on_create="animation('fly')"
	
	on_die="[score(level,points_value), spawn_item(self), spawn('die_cloud', midpoint_x, midpoint_y, facing)]"
	
	on_collide_side="[set(velocity_x,0),if(cycle-vars.last_turned > 10,[set(vars.last_turned,cycle),set(facing, -facing),animation('turn')]) ]"
	#on_jumped_on="[if(jumped_on_by.mass >= 1000, die(), animation('spring'))]"
	
	on_end_anim="animation('fly')"
	on_enter_anim="set(tmp, 'already_hit', [])"
	
	
#	on_process_fly="[if(abs(y - vars.desired_height) > 10, set(velocity_y, (600*if(vars.desired_height < y, -1, 1))), set(velocity_y, 0)),
#	
#	if(solid(level, front + facing*50, y, 1, y2 - y) or (facing < 0 and x < vars.x_bound) or (facing > 0 and x2 > vars.x2_bound),
#	[facing(-facing), animation('turn')])]"
	
	
	
	
	
	on_surface_damage="die()"
	feet_width=4
	
		[animation]
		id=fly
		attack_area=15,18,26,26
		accel_x=10
		[/animation]

		[animation]
		id=turn
		attack_area=0,18,26,26
		#accel_x=50
		[/animation]

		[animation]
		id=hurt
		frames=1
		duration=18
		events="6:12:18:hurtflicker"
		[/animation]


[/prototype]
