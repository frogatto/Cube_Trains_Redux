[prototype]
springiness=100
friction=1000
traction=1000
timer_frequency=5
hitpoints=4
solid_area=2,7,26,23

on_create="animation('stand')"

on_die="[score(points_value), spawn('die_cloud', midpoint_x, midpoint_y, facing)]"
on_collide="[set('facing', -facing),animation('turn'),set('velocity_x',0)]"
on_jumped_on="[debug('jumped on ', jumped_on_by.mass), if(jumped_on_by.mass >= 1000, die(), animation('spring'))]"
on_end_anim="animation('walk')"

on_process="set('rotate', slope_standing_on)"
on_process_walk="if(not is_standing, animation('stand'))"
on_process_stand="if(is_standing, animation('walk'))"

on_timer="if(turns_at_cliffs and is_standing and animation = 'walk' and distance_to_cliff < 30,[set('facing', -facing),animation('turn')],null())"
on_end_turn_anim="animation('walk')"


on_hit_by_player="[set('hitpoints', hitpoints - hit_by.damage),animation('hurt'),set('green', 100), set('blue', 100), set('velocity_y',-600),set('velocity_x',600*hit_by.facing*hit_by.damage)]"
on_hurtflicker="if(green = 100,[set('green', 255), set('blue', 255)],[set('green', 100), set('blue', 100)])"
on_leave_hurt_anim="[set('green', 255), set('blue', 255)]"
on_end_hurt_anim="animation('walk')"


on_surface_damage="die()"
feet_width=4
	[vars]
	points_value="5"
	turns_at_cliffs=1
	[/vars]
[/prototype]
