[prototype]
  traction_in_air=1000
  friction=0
  object_level_collisions=yes
  always_active=yes

  [editor_info]
    category=cellular
  [/editor_info]

  [vars]
    team="'neutral'"
    trackx=0
    tracky=0
    velocity=1500
    parent=0
    damage=1
  [/vars]

  on_spawned="[
    set(vars.parent,spawner),
    send_to_coordinates(me,trackx,tracky,velocity)
  ]"

  on_collide_level="die()"

  on_collide_object_body="[
    if(collide_with.team!=team and collide_with.team!=vars.parent.vars.team and collide_with.vars.team!='neutral',[
      die(),
      if(collide_with.hitpoints <=vars.damage, set(collide_with.solid_dimensions_in, none)),
      set(collide_with.vars.last_damaged,level.cycle),
      add(collide_with.vars.damage_counter,vars.damage),
      add(collide_with.hitpoints, -vars.damage),
      if(collide_with!=level.player,spawn('energy_pickup',midpoint_x,midpoint_y,0,[set(trackx,vars.parent.midpoint_x), set(tracky,vars.parent.midpoint_y), set(velocity, 500)])),
      sound('Bump.ogg')
    ])
  ]"

  on_die="[
    spawn('pollen_impact_particle',midpoint_x,midpoint_y,0),
  ]"

[/prototype]
