[prototype]
	prototype=ct-ground
	zsub_order = 10
	[vars]
		group=['ground', 'track']
		track=0
		frequency=20
		save_val=[5,0]
		save_val_edit = 0
	[/vars]
	
	[properties]
			message = "
				'Arrival Frequency: {vars.save_val[0]}/10s.' + if(sve = 0, ' {selector}') + '\n  ' + 
				  if(vars.save_val[0] != 0, '(One every {500/vars.save_val[0]} frames.)', '(Only recieves trains.)') + '\n' +
				'Phase Offset: {save_val[1]}/100' + if(sve = 1, ' {selector}')
				where selector = 'Ф-Ф' 
				where sve = vars.save_val_edit"
				
			change_save_val = "def(val) switch(vars.save_val_edit, 
				0, set(vars.save_val, list_replace_elements(vars.save_val, 0, [abs(vars.save_val[0]+val)])),
				1, set(vars.save_val, list_replace_elements(vars.save_val, 1, [abs(vars.save_val[1]+val*10)%100])),
				debug('change_save_val error in {self.type}. Index {vars.save_val_edit} is not registered.'))"
	[/properties]
	
	on_ctrl_select = "set(save_val_edit, (save_val_edit+1)%size(save_val))"
[/prototype]