[prototype]
springiness=100
friction=5
timer_frequency=5
hitpoints=6
on_create="animation('stand')"

on_die="[score(points_value), spawn('die_cloud', midpoint_x, midpoint_y, facing)]"
on_collide="[set('velocity_x',-velocity_x/2),set('facing', -facing),animation('turn')]"
on_jumped_on="animation('spring')"

on_process="set('rotate', slope_standing_on)"
on_timer="if(turns_at_cliffs and is_standing and animation = 'walk' and distance_to_cliff < 30,[set('facing', -facing),animation('turn')],null())"
on_end_turn_anim="animation('walk')"
on_end_walk_anim="if(1d4 = 4, animation('stand'),animation('walk'))"
on_end_stand_anim="if(is_standing and 1d2 = 2, animation('walk'),animation('stand'))"



on_hit_by_player="[set('hitpoints', hitpoints - hit_by.damage),animation('hurt'),set('green', 100), set('blue', 100), set('velocity_y',-1000),set('velocity_x',1000*hit_by.facing*hit_by.damage)]"
on_hurtflicker="if(green = 100,[set('green', 255), set('blue', 255)],[set('green', 100), set('blue', 100)])"
on_leave_hurt_anim="[set('green', 255), set('blue', 255)]"
on_end_hurt_anim="animation('stand')"

on_end_spring_anim="animation('walk')"


on_surface_damage="die()"
feet_width=4
	[vars]
	points_value="5"
	turns_at_cliffs=1
	[/vars]
	
	
[animation]
id=walk
accel_x=100
[/animation]
[animation]
id=stand
accel_x=0
[/animation]
[animation]
id=spring
accel_x=0
[/animation]
[animation]
id=turn
accel_x=0
[/animation]
[animation]
id=hurt
accel_x=0
[/animation]

[/prototype]
