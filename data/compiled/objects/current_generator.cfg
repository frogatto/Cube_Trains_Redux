[object_type]
activation_border="350"
id="current_generator"
ignore_collide="true"
on_create="[set(alpha,0),
		set(current_generator, rect_current(zone_x1, zone_y1 ,abs(zone_x1 - zone_x2) ,abs(zone_y1 - zone_y2) , current_vel_x, current_vel_y, strength)),
		if(not vars.invisible = 1,add_particles('particles')),
		fire_event('setup_particles')]"
on_end_anim="animation('normal')"
on_setup_particles="[
	    set(particles.area, [zone_x1, zone_y1, zone_x2, zone_y2]),
		set(particles.velocity_x, current_vel_x/200),
		set(particles.velocity_y, current_vel_y/200),
		]"
zorder="5"
	[editor_info]
	category="controllers"
		[var]
		name="zone_x1"
		type="x"
		value="x"
		[/var]

		[var]
		name="zone_x2"
		type="x"
		value="x+200"
		[/var]

		[var]
		name="zone_y1"
		type="y"
		value="y"
		[/var]

		[var]
		name="zone_y2"
		type="y"
		value="y+200"
		[/var]

		[var]
		name="strength"
		value="1000"
		[/var]

		[var]
		name="current_vel_x"
		value="0"
		[/var]

		[var]
		name="current_vel_y"
		value="-200"
		[/var]

		[var]
		name="invisible"
		type="boolean"
		value="0"
		[/var]

	[/editor_info]

	[animation]
	duration="1000"
	frame_info="0,0,2,1,188,497,26,27"
	frames="1"
	id="normal"
	image="compiled-2.png"
	rect="188,497,215,524"
	[/animation]

	[particle_system]
	color="120,250,200,200"
	dot_size="2"
	id="particles"
	number_of_particles="100"
	repeat_period="200"
	type="water"
	velocity_rand="4"
	velocity_x="0"
	velocity_y="-1"
	[/particle_system]

[/object_type]

