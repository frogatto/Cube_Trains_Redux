[object_type]
dies_on_inactive="yes"
id="breakable_crate_particle"
on_collide_feet="[set(velocity_x, (velocity_x*70)/100), set(velocity_y, -velocity_y/2)]"
on_create="[animation('normal' + 1d5), set(velocity_x, 1d1000*level.player.facing), set(velocity_y, 1d2000 - 1000), set(rotate, 0), set_var('rotation', 1d20)]"
on_enter_water="[
	add_wave(midpoint_x, y2, -2000, 5*velocity_y/5, 30*velocity_y, 300, 300),
	add_wave(midpoint_x, y2, 2000, 5*velocity_y/5, 30*velocity_y, 300, 300),
	add_wave(midpoint_x, y2, -1000, 3*velocity_y/5, 20*velocity_y, 200, 200),
	add_wave(midpoint_x, y2, 1000, 3*velocity_y/5, 20*velocity_y, 200, 200),
	add_wave(midpoint_x, y2, -500, 2*velocity_y/5, 10*velocity_y, 100, 100),
	add_wave(midpoint_x, y2, 500, 2*velocity_y/5, 10*velocity_y, 100, 100)
	]"
set(velocity_y, ((velocity_y * 997) / 1000) + underwater * (((velocity_y * 9) / 10) - velocity_y + 90))]"
	on_collide_head="set(velocity_y, -velocity_y)"
zorder="-1"
	[animation]
	accel_y="70"
	body_area="all"
	duration="100"
	frames="1"
	id="normal1"
	image="compiled-0.png"
	rect="1020,909,1023,912"
	[/animation]

	[animation]
	accel_y="70"
	body_area="all"
	duration="100"
	frames="1"
	id="normal2"
	image="compiled-2.png"
	rect="1005,570,1009,574"
	[/animation]

	[animation]
	accel_y="70"
	body_area="all"
	duration="100"
	frames="1"
	id="normal3"
	image="compiled-2.png"
	rect="1000,570,1004,574"
	[/animation]

	[animation]
	accel_y="70"
	body_area="all"
	duration="100"
	frames="1"
	id="normal4"
	image="compiled-0.png"
	rect="1016,336,1020,342"
	[/animation]

	[animation]
	accel_y="70"
	body_area="all"
	duration="100"
	frames="1"
	id="normal5"
	image="compiled-2.png"
	rect="1015,30,1021,34"
	[/animation]

[/object_type]

