[object_type]
id="cannon"
on_end_anim="if(animation = 'normal',
	                   if(vars.load >= vars.loading_time,
					     [animation('fire'), set_var('load', 0)],
						 [animation('normal'), set_var('load', vars.load + 1)]),
					      animation('normal'))"
on_shoot="[spawn('missile', midpoint_x+ facing*25, midpoint_y -14, facing),
	spawn('explosion_spark', midpoint_x+ facing*50, midpoint_y -8, facing)]"
solid_area="16,6,48,44"
	[editor_info]
	category="machines"
		[var]
		name="loading_time"
		value="10"
		[/var]

	[/editor_info]

	[vars]
	load="0"
	[/vars]

	[animation]
	duration="10"
	frames="1"
	id="normal"
	image="compiled-1.png"
	rect="88,801,136,839"
	[/animation]

	[animation]
	duration="8"
	events="5:shoot"
	frames="2"
	frames_per_row="1"
	id="fire"
	image="compiled-1.png"
	rect="272,128,320,166"
	sound="cannon.ogg"
	[/animation]

[/object_type]

