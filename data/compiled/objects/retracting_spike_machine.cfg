[object_type]
id="retracting_spike_machine"
on_create="[set(upside_down, is_upside_down),
            set(z, 51), spawn('retracting_spike', x + 18, y + 30, 1,
               [set(z, 50),
	            set_group(group),
	            set_var('count', -delay_ticks),
	            set_var('retracted_ticks', retracted_ticks),
                set_var('stab_ticks', stab_ticks),
                set_var('extended_ticks', extended_ticks),
                set_var('retract_ticks', retract_ticks),
	            set(upside_down, is_upside_down)])]"
	[editor_info]
	category="machines"
		[var]
		name="delay_ticks"
		value="0"
		[/var]

		[var]
		name="retracted_ticks"
		value="80"
		[/var]

		[var]
		name="stab_ticks"
		value="4"
		[/var]

		[var]
		name="extended_ticks"
		value="50"
		[/var]

		[var]
		name="retract_ticks"
		value="40"
		[/var]

		[var]
		name="is_upside_down"
		type="boolean"
		value="0"
		[/var]

	[/editor_info]

	[animation]
	duration="1000000"
	frames="1"
	id="normal"
	image="compiled-2.png"
	rect="1007,36,1023,68"
	[/animation]

[/object_type]

