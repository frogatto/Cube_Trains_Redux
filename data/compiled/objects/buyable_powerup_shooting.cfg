[prototype]
id="buyable_powerup_shooting"
on_bought="[set(level.player.vars.unlocked_items, level.player.vars.unlocked_items + ['powerup_shooting']), set(level.player.vars.next_unlocked_item, 'powerup_shooting')]"
on_create="[[if(already_owned, die())], set(green, 0), set(blue, 0)]"
on_end_normal_anim="animation('normal')"
on_interact="[fire_event(level.player, 'start_interact')]"
on_talk="[set(level.player.time_in_animation_delta, 0),
	         if(level.player.vars.coins < consts.price,
	            [
	             speech_dialog(self, consts.description + [~The price is ~ + consts.price + ~ coins.~, ~You don't have enough money.~]),
				],
				[
				 speech_dialog(self, consts.description + [~The price is ~ + consts.price + ~ coins.~]),
				 speech_dialog(self, [~Do you want to buy the ~ + consts.name + ~?~,
				  'Yes', [fire_event('bought'), die(), set(level.player.vars.items_owned, level.player.vars.items_owned + [type]), set(level.player.vars.coins, level.player.vars.coins - consts.price)],
				  'No', []])
				]),
			    set(level.player.time_in_animation_delta, 1)]"
zorder="-5"
	[properties]
	already_owned="find(level.player.vars.items_owned, 'item', item = type)"
	[/properties]

	[animation]
	duration="4"
	frame_info="2,2,2,1,634,882,10,11,2,2,1,0,644,882,11,12,2,2,2,0,655,882,10,12,2,2,2,0,665,882,10,12,2,2,2,0,675,882,10,12,2,2,2,0,685,882,10,12,2,2,2,0,695,882,10,12,2,2,2,0,705,882,10,12,1,2,2,0,715,882,11,12"
	frames="9"
	frames_per_row="3"
	id="normal"
	image="compiled-1.png"
	interact_area="all"
	item_area="all"
	rect="632,880,645,893"
	[/animation]

	[consts]
	description="[~The energy crystal unlocks~,~energy powerups. Energy~, ~powerups will allow you~, ~to shoot very rapidly.~]"
	name="'energy crystal'"
	price="100"
	[/consts]

[/prototype]

