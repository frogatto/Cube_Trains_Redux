[object_type]
affected_by_currents="yes"
feet_width="1"
friction="0"
hitpoints="4"
id="rpg_char_test"
is_human="yes"
mass="5"
on_end_anim="animation(animation)"
on_process="[	if(pressing_north and (not moving_north), [animation('walk_north'), facing(1)]),
				if(pressing_south and (not moving_south), [animation('walk_south'), facing(1)]),
				
				if(pressing_west and (not moving_west), [set(velocity_x,-400),animation('walk_east'),facing(-1)]),
				if(pressing_east and (not moving_east), [set(velocity_x, 400),animation('walk_east'),facing(1)]),
				
				if(pressing_nw   and (not moving_nw), [set(velocity_x,-400), animation('walk_north'), facing(1)]),
				if(pressing_ne   and (not moving_ne), [set(velocity_x, 400), animation('walk_north'), facing(1)]),

				if(pressing_sw   and (not moving_sw), [set(velocity_x,-400), animation('walk_south'), facing(1)]),
				if(pressing_se   and (not moving_se), [set(velocity_x, 400), animation('walk_south'), facing(1)]),

				if(ctrl_up and ctrl_down, [set(velocity_y,0),set_stand_anim()]),
				if(ctrl_up + ctrl_down = 0, [set(velocity_y,0),set_stand_anim()]),
				if(ctrl_left and ctrl_right, [set(velocity_x,0),set_stand_anim()]),
				if(ctrl_left + ctrl_right = 0, [set(velocity_x,0),set_stand_anim()])
				]"
solid_area="4,48,23,60"
traction_in_water="1000"
zorder="30"
	[properties]
	moving_east="velocity_x > 0 and velocity_y = 0"
	moving_ne="velocity_x > 0 and velocity_y < 0"
	moving_north="velocity_x = 0 and velocity_y < 0"
	moving_nw="velocity_x < 0 and velocity_y < 0"
	moving_se="velocity_x > 0 and velocity_y > 0"
	moving_south="velocity_x = 0 and velocity_y > 0"
	moving_sw="velocity_x < 0 and velocity_y > 0"
	moving_west="velocity_x < 0 and velocity_y = 0"
	pressing_east="ctrl_right and (not ctrl_left) and (not ctrl_up) and (not ctrl_down)"
	pressing_ne="ctrl_up and (not ctrl_down) and ctrl_right and (not ctrl_left)"
	pressing_north="ctrl_up and (not ctrl_down) and (not ctrl_left) and (not ctrl_right)"
	pressing_nw="ctrl_up and (not ctrl_down) and ctrl_left and (not ctrl_right)"
	pressing_se="ctrl_down and (not ctrl_up) and ctrl_right and (not ctrl_left)"
	pressing_south="ctrl_down and (not ctrl_up) and (not ctrl_left) and (not ctrl_right)"
	pressing_sw="ctrl_down and (not ctrl_up) and ctrl_left and (not ctrl_right)"
	pressing_west="ctrl_left and (not ctrl_right) and (not ctrl_up) and (not ctrl_down)"
	set_stand_anim="def() execute(me, if(velocity_x = 0 and velocity_y = 0,[if(animation = 'walk_north', animation('stand_north')),if(animation = 'walk_east', animation('stand_east')),if(animation = 'walk_south', animation('stand_south'))]))"
	[/properties]

	[editor_info]
	category="experimental"
	[/editor_info]

	[animation]
	accel_x="0"
	accel_y="0"
	body_area="all"
	duration="6"
	frame_info="0,3,0,0,700,63,30,59"
	frames="1"
	id="stand_south"
	image="compiled-1.png"
	rect="700,60,729,121"
	[/animation]

	[animation]
	accel_x="0"
	accel_y="0"
	body_area="all"
	duration="6"
	frame_info="0,2,1,0,984,901,29,60"
	frames="1"
	id="stand_north"
	image="compiled-0.png"
	rect="984,899,1013,960"
	[/animation]

	[animation]
	accel_x="0"
	accel_y="0"
	body_area="all"
	duration="6"
	frame_info="4,3,5,0,730,63,21,59"
	frames="1"
	id="stand_east"
	image="compiled-1.png"
	rect="726,60,755,121"
	[/animation]

	[animation]
	accel_x="0"
	accel_y="0"
	body_area="all"
	duration="5"
	frame_info="0,2,0,0,266,63,30,60,0,3,0,0,296,63,30,59,1,4,0,0,326,63,29,58,0,3,0,0,355,63,30,59,0,2,0,0,385,63,30,60,0,3,0,0,415,63,30,59,0,4,1,0,445,63,29,58,0,3,0,0,474,63,30,59"
	frames="8"
	id="walk_south"
	image="compiled-1.png"
	rect="266,61,295,122"
	velocity_y="400"
	[/animation]

	[animation]
	accel_x="0"
	accel_y="0"
	body_area="all"
	duration="5"
	frame_info="0,2,1,0,774,126,29,60,0,3,0,0,803,126,30,59,0,4,1,0,833,126,29,58,0,3,0,0,862,126,30,59,0,2,1,0,892,126,29,60,1,3,0,0,921,126,29,59,1,4,0,0,950,126,29,58,1,3,0,0,979,126,29,59"
	frames="8"
	id="walk_north"
	image="compiled-1.png"
	rect="774,124,803,185"
	velocity_y="-400"
	[/animation]

	[animation]
	accel_x="0"
	accel_y="0"
	body_area="all"
	duration="5"
	frame_info="4,3,5,0,808,63,21,59,4,4,6,0,829,63,20,58,4,5,2,0,849,63,24,57,4,4,6,0,873,63,20,58,4,3,5,0,893,63,21,59,4,4,5,0,914,63,21,58,5,5,1,1,935,63,24,56,4,4,5,0,959,63,21,58"
	frames="8"
	id="walk_east"
	image="compiled-1.png"
	rect="804,60,833,121"
	[/animation]

[/object_type]

