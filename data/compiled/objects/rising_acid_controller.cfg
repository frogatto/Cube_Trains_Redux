[object_type]
always_active="yes"
id="rising_acid_controller"
ignore_collide="true"
on_create="[set(alpha,0), add_particles('bubbles')]"
on_done_create="[
	   set(bubbles.area, [zone_x1, zone_y1-cycle*vars.speed, zone_x2, zone_y2]),
	   set(fizz.min_x, vars.zone_x1 - x),
	   set(fizz.max_x, vars.zone_x2 - x),
	   set(fizz.min_y, (vars.zone_y1-cycle*vars.speed - 15) - y),
	   set(fizz.max_y, (vars.zone_y1-cycle*vars.speed + 15) - y),
	   set(fizz.spawn_rate, vars.speed*(zone_x2 - zone_x1))
	   ]"
on_editor_changing_variable="remove_water(zone_x1, zone_y1, zone_x2, zone_y2)"
on_editor_removed="remove_water(zone_x1, zone_y1, zone_x2, zone_y2)"
on_end_anim="animation('normal')"
on_process="if (zone_y1-cycle*vars.speed > end_height,[
		remove_water(zone_x1, zone_y1-cycle*vars.speed+vars.speed, zone_x2, zone_y2),
		add_water(zone_x1, zone_y1-cycle*vars.speed, zone_x2, zone_y2, [70, 0, 70, 50]),
		fire_event('done_create'),
		set(fizz.max_y, zone_y1-cycle*vars.speed),
	])"
zorder="-20"
	[consts]
	damage="1"
	[/consts]

	[animation]
	duration="1000"
	frame_info="1,2,1,0,248,384,26,26"
	frames="1"
	id="normal"
	image="compiled-2.png"
	rect="247,382,274,409"
	[/animation]

	[particle_system]
	color="120,250,200,200"
	dot_size="2"
	id="bubbles"
	number_of_particles="100"
	repeat_period="200"
	type="water"
	velocity_rand="4"
	velocity_x="0"
	velocity_y="-1"
	[/particle_system]

	[particle_system]
	accel_y="-10"
	delta_a="2"
	id="fizz"
	max_x="260"
	max_y="15"
	min_x="-60"
	min_y="-15"
	spawn_rate="600"
	time_to_live="300"
	type="simple"
	velocity_x="260"
	velocity_x_random="200"
	velocity_y="-200"
	velocity_y_random="400"
		[animation]
		duration="8"
		frame_info="1,1,1,1,781,0,5,5,2,2,2,2,786,0,3,3,3,3,2,2,789,0,2,2,3,3,3,3,791,0,1,1,3,3,3,3,792,0,1,1"
		frames="5"
		frames_per_row="5"
		id="sparkle"
		image="compiled-0.png"
		rect="780,-1,786,5"
		scale="2"
		[/animation]

	[/particle_system]

[/object_type]

