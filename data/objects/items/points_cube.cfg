
	[object_type]
	id=points_cube
	
	[vars]
		time_to_live=500
		points_value=5
	[/vars]
	on_create="set(vars.time_to_live, level.cycle + vars.time_to_live)"
	on_collide_object_item="if(collide_with.player,[score(level,points_value),map([0,0,0,0],spawn('points_sparkle',midpoint_x + 1d40-20,midpoint_y + 1d40-20,0)),sound('HeartPickUp.ogg'),die()])"
	on_end_anim="animation('normal')"
	solid_dimensions=level_only
	friction=100
	
	on_process="set(brightness,(wave(cycle*30)+1000)/3 + 255)"

	timer_frequency=5
	on_timer="[spawn('points_sparkle',midpoint_x + 1d40-20,midpoint_y + 1d40-20,0),if(level.cycle > vars.time_to_live, die())]"

	on_collide_feet="[set(velocity_y, -velocity_y), set(velocity_x, (velocity_x*9)/10 + (velocity_y*slope_standing_on)/90),animation('flash')]"
	on_collide="[set(velocity_y, velocity_y/2), set(velocity_x, -velocity_x),animation('flash')]"

		[animation]
		id=normal
		image=props/items.png
		rect=203,2,216,15
		pad=3
		frames=9
		frames_per_row=3
		duration=4
		item_area=all
		solid_area=4,4,8,8
		accel_y=80
		[/animation]

		[animation]
		id=flash
		image=props/items.png
		rect=203,53,216,66
		pad=3
		frames=1
		duration=4
		item_area=all
		solid_area=4,4,8,8
		accel_y=80
		[/animation]
		

	[/object_type]
	
