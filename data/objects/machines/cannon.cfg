
	[object_type]
	id=cannon
	on_end_anim="if(animation = 'normal',
	                   if(vars.load >= vars.loading_time,
					     [animation('fire'), set_var('load', 0)],
						 [animation('normal'), set_var('load', vars.load + 1)]),
					      animation('normal'))"
	on_shoot="[spawn('missile', midpoint_x+ facing*25, midpoint_y -14, facing),
	spawn('explosion_spark', midpoint_x+ facing*50, midpoint_y -8, facing)]"
	body_harmful=no
		[animation]
		id=normal
		image=enemies/cannon.png
		rect=3,116,51,154
		collide=16,6,32,38
		frames=1
		duration=10
		[/animation]
		[animation]
		id=fire
		image=enemies/cannon.png
		sound=cannon.ogg
		rect=63,116,111,154
		collide=16,6,32,38
		frames=2
		frames_per_row=1
		pad=3
		duration=8
		events="5:shoot"
		[/animation]
	[/object_type]
