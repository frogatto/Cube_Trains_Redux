
	[object_type]
	id=cannon
	on_end_anim="if(animation = 'normal',
	                   if(vars.load >= vars.loading_time,
					     [animation('fire'), set_var('load', 0)],
						 [animation('normal'), set_var('load', vars.load + 1)]),
					      animation('normal'))"
	on_shoot="spawn('missile', x + if(facing > 0, 50, -50), y + 10, facing)"
	body_harmful=no
		[animation]
		id=normal
		image=cannon.png
		rect=7,18,36,49
		collide=0,0,15,28
		frames=1
		duration=10
		scale=2
		[/animation]
		[animation]
		id=fire
		image=cannon.png
		sound=cannon.ogg
		rect=39,18,69,49
		collide=0,0,15,28
		frames=1
		duration=10
		scale=2
		events="5:shoot"
		[/animation]
	[/object_type]
