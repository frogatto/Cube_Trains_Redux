[object_type]
id=retracting_spike_machine
body_harmful=no
on_create="[set('upside_down', is_upside_down),
            set('z', 51), spawn('retracting_spike', x + 18, y + 30, 1,
               [set('z', 50),
	            set_group(group),
	            set_var('count', -delay_ticks),
	            set_var('retracted_ticks', retracted_ticks),
                set_var('stab_ticks', stab_ticks),
                set_var('extended_ticks', extended_ticks),
                set_var('retract_ticks', retract_ticks),
	            set('upside_down', is_upside_down)])]"

	[animation]
	id=normal
	image=props/retractingspike1.png
	rect=22,42,38,74
	frames=1
	duration=1000000
	[/animation]
[/object_type]
