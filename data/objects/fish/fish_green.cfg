
	[object_type]
	id=fish_green
	hitpoints=1
	has_feet=no
	[vars]
		team="'evil'"
		points_value="5"
		damage=1
	[/vars]

	on_hit_by_player="die()"
	on_die="[score(level,20), spawn_item(me), spawn('die_cloud', midpoint_x, midpoint_y, facing)]"
	on_process="[if(solid(level, front + facing*90, y, 1, y2 - y),
	            [facing(-facing), animation('turn')], null()),
				set(x, x+(2*facing))]"
	on_end_anim="[if(facing < 0 and x < vars.x_bound or
	                facing > 0 and x2 > vars.x2_bound,
					[facing(-facing), animation('turn')],
					animation('swim'))]"
	on_collide="[facing(-facing), animation('turn')]"
	on_change_animation_failure="die()"

solid_area=3,3,27,19
attack_area=2,2,28,19
body_harmful=yes
		[base:animation]
		image=enemies/fish-green.png
		pad=3
		body_area=all
		[/animation]

		[animation]
		id=swim
		duplicates=6
		rect=2,1,42,29
		frames=4
		duration=6
		accel_x=2000
		[/animation]

		[animation]
		id=swim		#blink variant
		rect=2,33,42,61
		frames=4
		duration=6
		accel_x=20
		[/animation]

		[animation]
		id=startle
		rect=2,65,42,93
		frames=1
		duration=10
		[/animation]

		[animation]
		id=hurt
		rect=90,65,130,93
		frames=1
		duration=10
		[/animation]

		[animation]
		id=swimMad
		rect=2,97,42,125
		frames=4
		duration=6
		accel_x=3000
		[/animation]

	[/object_type]
