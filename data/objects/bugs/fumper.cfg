	
	[object_type]
	id=fumper
	hit_points=1
	on_die="[score(25), spawn('die_cloud', midpoint_x, midpoint_y, facing)]"
	on_collide_head="set('velocity_y', 0)"
	on_collide_feet="[animation('normal'), set('velocity_x', 0)]"

	on_end_turn_anim="[set('facing', if(level.player.x < x, -1, 1)), animation('normal')]"
	on_end_normal_anim="if(desired_facing != facing, animation('turn'), animation('start_jump'))
                         where desired_facing = if(level.player.x < x, -1, 1)"
	on_end_start_jump_anim="animation('jump')"
	on_hit_by_player="die()"
	body_passthrough=true
		[animation]
		id=normal
		image=fumper.png
		rect=0,0,25,26
		collide_x=2
		collide_y=2
		collide_w=20
		collide_h=20
		feet_x=12
		feet_y=25
		frames=1
		duration=10
		accel_y=50
		[/animation]
		
		[animation]
		id=start_jump
		image=fumper.png
		rect=0,0,25,26
		collide_x=2
		collide_y=2
		collide_w=20
		collide_h=20
		feet_x=12
		feet_y=25
		frames=4
		duration=5
		accel_y=50
		[/animation]
		
		[animation]
		id=jump
		image=fumper.png
		rect=104,0,129,26
		collide_x=2
		collide_y=2
		collide_w=20
		collide_h=20
		feet_x=12
		feet_y=25
		frames=1
		duration=100000
		velocity_x=400
		velocity_y=-900
		accel_y=50
		[/animation]

		
		[animation]
		id=turn
		image=fumper.png
		rect=33,28,58,55
		collide_x=4
		collide_y=0
		collide_w=25
		collide_h=25
		feet_x=12
		feet_y=25
		frames=1
		duration=8
		accel_y=50
		[/animation]
		
		[animation]
		id=blink
		image=fumper.png
		rect=14,42,39,68
		collide_x=0
		collide_y=0
		collide_w=25
		collide_h=25
		feet_x=26
		feet_y=15
		frames=1
		duration=2
		accel_y=50
		[/animation]
		
	[/object_type]

