	
	[object_type]
	id=fumper
	hitpoints=3

	prototype=hittable
	friction=1000
	traction=1000
	timer_frequency=5
		solid_area=5,5,28,28
	solid_dimensions=enemy,common


	timer_frequency=100
	[vars]
		team="'evil'"
		damage=1
		points_value=25
		turns_at_cliffs=1
	[/vars]

	on_die="[score(level,points_value), spawn('die_cloud', midpoint_x, midpoint_y, facing)]"
	on_collide_head="set('velocity_y', 0)"
	on_collide_feet="[animation('land'), set('velocity_x', 0)]"
	on_end_land_anim="animation('normal')"


	on_end_turn_anim="[set('facing', if(level.player.x < x, -1, 1)), animation('normal')]"
	on_end_normal_anim="if(desired_facing != facing, animation('turn'), animation('start_jump'))
                         where desired_facing = if(level.player.x < x, -1, 1)"
	on_end_start_jump_anim="[animation('jump'),set('velocity_x',400*facing),set('velocity_y',-1200)]"
	on_process_jump="if(velocity_y > 0, animation('fall'))"


	on_timer="set(tmp, 'already_hit', [])"
	on_end_hurt_anim="animation('normal')"



		[base:animation]
		image=enemies/fumper.png
		pad=3
		body_area=all
		accel_y=50
		attack_area=0,0,26,20
		[/animation]
	
		[animation]
		id=normal
		duplicates=4
		rect=1,1,31,30
		frames=3
		duration=5
		reverse=yes
		[/animation]
		
		[animation]
		id=normal #blink variant
		rect=103,1,133,30
		frames=3
		duration=5
		reverse=yes
		[/animation]
		
		[animation]
		id=start_jump
		rect=1,34,31,63
		frames=1
		duration=5
		[/animation]
		
		[animation]
		id=jump
		rect=35,34,65,63
		frames=1
		duration=2
		[/animation]

		[animation]
		id=fall
		rect=69,34,99,63
		frames=1
		duration=2
		[/animation]

		[animation]
		id=land
		rect=1,34,31,63
		frames=1
		duration=5
		[/animation]

		
		[animation]
		id=turn
		rect=1,67,31,96
		frames=3
		duration=5
		[/animation]
		
		[animation]
		id=hurt
		rect=137,34,167,63
		frames=1
		duration=18
		events="6:12:18:hurtflicker"
		[/animation]
		
		
	[/object_type]

