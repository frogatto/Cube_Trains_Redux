
	[object_type]
	id=mosquito
	hitpoints=1
	springiness=100
	friction=1000
	traction=1000
	traction_in_air=1000

	on_hit_by_player="die()"
	on_die="[score(20), spawn_item(me), spawn('die_cloud', midpoint_x, midpoint_y, facing)]"
	on_process="if(solid(level, front + facing*50, y, 1, y2 - y),
	            [facing(-facing), animation('turn')], null())"
	on_end_anim="[if(facing < 0 and x < vars.x_bound or
	                facing > 0 and x2 > vars.x2_bound,
					[facing(-facing), animation('turn')],
					animation('fly'))]"
	on_collide="[facing(-facing), animation('turn')]"
	on_jumped_on="animation('spring')"
	#on_collide_with="elastic_collision(collide_with,me)"

	solid_area=2,12,30,28

		[base:animation]
		image=enemies/mosquito.png
		accel_x=400
		pad=3
		body_area=all
		[/animation]


		[animation]
		id=fly
		duplicates=12
		rect=2,2,32,32
		frames=2
		duration=6
		[/animation]

		[animation]
		id=fly
		rect=70,2,100,32
		frames=2
		duration=6
		reverse=yes
		[/animation]

		[animation]
		id=spring
		rect=2,36,32,66
		frames=5
		duration=3
		[/animation]

		[animation]
		id=turn
		rect=2,70,32,100
		frames=1
		duration=10
		[/animation]

	[/object_type]
