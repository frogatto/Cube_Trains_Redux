[object_type]
id="worm_white"
prototype="ant"
on_end_anim="if((not animation in ['wiggle', 'emerge', 'fall', 'land']), %PROTO%)"
on_end_emerge_anim="set(animation, 'wiggle')"
on_end_wiggle_anim="[set(vars.wiggle_count, vars.wiggle_count-1), if(vars.wiggle_count <= 0, set(animation, 'fall'), set(animation, 'wiggle'))]"

on_collide_feet="if(animation = 'fall', set(animation, 'land'), %PROTO%)"
on_end_land_anim="set(animation, 'stand')"

on_create="animation('emerge')"

on_bounced_on="die()"
hitpoints=2

solid_area=5,18,20,25
	[vars]
	points_value="5"
	turns_at_cliffs="1"
	wiggle_count="3"
	[/vars]

	[base:animation]
	image="enemies/worm-white.png"
	rotate_on_slope="yes"
	pad="3"
	accel_x="0"
	accel_y="80"
	body_area="all"
	[/animation]

	[animation]
	id="emerge"
	rect="89,96,113,123"
	frames="3"
	duration="6"
	attack_area="15,18,26,26"
	frames_per_row="3"
	accel_y="0"
	[/animation]

	[animation]
	id="stand"
	rect="3,1,27,28"
	frames="1"
	duration="6"
	attack_area="15,18,26,26"
	[/animation]

	[animation]
	id="thrown"
	thrown_area="0,0,31,36"
	duration="50"
	rect="31,33,55,60"
	frames="1"
	body_area="none"
	[/animation]

	[animation]
	id="on_back"
	rect="31,33,55,60"
	frames="2"
	duration="5"
	[/animation]

	[animation]
	id="walk"
	#blink variant
	attack_area="15,22,26,26"
	accel_x="250"
	rect="89,1,113,28"
	frames="3"
	duration="6"
	[/animation]

	[animation]
	id="walk"
	#blink variant
	attack_area="15,22,26,26"
	accel_x="250"
	rect="3,1,27,28"
	frames="3"
	duration="6"
	duplicates="6"
	[/animation]

	[animation]
	id="spring"
	rect="3,33,27,60"
	frames="1"
	duration="4"
	[/animation]

	[animation]
	id="turn"
	rect="3,65,27,92"
	frames="3"
	duration="4"
	attack_area="0,22,26,26"
	[/animation]

	[animation]
	id="hurt"
	rect="90,65,114,92"
	frames="1"
	duration="18"
	events="6:12:18:hurtflicker"
	[/animation]

	[animation]
	id="wiggle"
	rect="89,127,113,154"
	frames="3"
	duration="4"
	frames_per_row="3"
	reverse="yes"
	accel_y="0"
	[/animation]

	[animation]
	id="land"
	rect="89,158,113,185"
	frames="3"
	duration="4"
	attack_area="15,18,26,26"
	frames_per_row="3"
	[/animation]

	[animation]
	id="fall"
	rect="117,127,141,154"
	frames="1"
	duration="40"
	attack_area="all"
	frames_per_row="1"
	pad="0"
	[/animation]

[/object_type]

