	
	[object_type]
	id=red_spikebug
	prototype=ant

		on_collide_object_body="[ if(collide_with.vars.team != vars.team and collide_with_area = 'attack',
			if(not (me in collide_with.tmp.already_hit), [set(collide_with.tmp, 'already_hit', collide_with.tmp.already_hit + [me]),
		
				set(hitpoints, hitpoints - collide_with.vars.damage), debug(collide_with.vars.damage), animation('hurt'), set(green, 100), set(blue, 100), set(velocity_y,-1000), set(velocity_x,400 * collide_with.facing),debug(~ant hp: ~ + (hitpoints))]))
				, if(collide_with.vars.team != vars.team ,animation('attack'))]"

	on_end_attack_anim="animation('stand')"


	[vars]
		points_value=5
		turns_at_cliffs=0
	[/vars]

		[base:animation]
		image=enemies/spike-bug.png
		rotate_on_slope=yes
		pad=3
		accel_x=0
		accel_y=80
		body_area=all
		[/animation]


		[animation]
		id=stand
		rect=2,2,26,29
		frames=1
		duration=6
		[/animation]

		[animation]
		id=walk   #blink variant
		accel_x=300
		rect=88,2,112,29
		frames=3
		duration=6
		[/animation]

		[animation]
		id=walk
		duplicates=6
		accel_x=300
		rect=2,2,26,29
		frames=3
		duration=6
		[/animation]

		[animation]
		id=spring
		rect=2,34,26,61
		frames=5
		duration=1
		[/animation]

		[animation]
		id=turn
		rect=2,66,26,93
		frames=3
		duration=4
		[/animation]

		[animation]
		id=hurt
		rect=89,66,113,93
		frames=1
		duration=18
		events="6:12:18:hurtflicker"
		[/animation]
		
		
		[animation]
		id=attack
		rect=2,97,33,122
		frames=4
		duration=2
		reverse=yes
		attack_area=all
		[/animation]
		
	[/object_type]

