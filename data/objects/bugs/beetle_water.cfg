	
	[object_type]
	id=beetle_water
	prototype=ant
	traction_in_water=500

	[vars]
		points_value=5
		turns_at_cliffs=1
	[/vars]
		
		on_create="if(underwater,animation('swim'),animation('stand'))"
		on_enter_water="[animation('swim'),set(x_bound,x-100),set(x2_bound,x+100)]"
		on_exit_water="animation('stand')"
		on_process_swim="[if(solid(level, front + facing*50, y, 1, y2 - y) or (facing < 0 and x < vars.x_bound) or (facing > 0 and x2 > vars.x2_bound),
	[facing(-facing), animation('swimturn')])]"

		on_end_swim_anim="animation('swim')"
		on_end_swimturn_anim="animation('swim')"
		on_end_anim="if(not anim in ['swim','swimturn'],animation('walk'))"
		on_end_walk_anim="animation('walk')"

		[base:animation]
		image=enemies/beetle-water.png
		rotate_on_slope=yes
		pad=3
		accel_x=0
		accel_y=80
		body_area=all
		[/animation]
	
		[animation]
		id=stand
		rect=3,1,27,28
		frames=1
		duration=6
		[/animation]
	
		[animation]
		id=thrown
		rect=31,33,55,60
		frames=1
		[/animation]

		[animation]
		id=walk   #blink variant
		accel_x=300
		rect=89,1,113,28
		frames=3
		duration=6
		[/animation]

		[animation]
		id=walk
		duplicates=6
		accel_x=300
		rect=3,1,27,28
		frames=3
		duration=6
		[/animation]

		[animation]
		id=spring
		rect=3,33,27,60
		frames=1
		duration=4
		[/animation]

		[animation]
		id=turn
		rect=3,65,27,92
		frames=3
		duration=4
		[/animation]

		[animation]
		id=hurt
		rect=90,65,114,92
		frames=1
		duration=18
		events="6:12:18:hurtflicker"
		[/animation]
		
		[animation]
		id=swim
		accel_x=30
		rect=3,96,37,119
		frames=4
		duration=5
		accel_y=0
		[/animation]
		
		[animation]
		id=swimturn
		rect=3,123,27,150
		frames=3
		duration=4
		accel_y=0
		[/animation]
		
	[/object_type]

