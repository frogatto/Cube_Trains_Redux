[object_type]
id="acorn"
dies_on_inactive=yes

[properties]
	#thrown_damage=5
	attack_damage="if(team='evil',if((abs(velocity_x) > 200) or (abs(velocity_y) > 200), 1, 0), 5)"
	team="if(has_been_spat,'player','evil')"
[/properties]
[vars]
	has_been_spat=0
[/vars]

on_spat="[set(vars.has_been_spat, 1), set(accel_y, 80)]"


hitpoints="6"
tags=swallowable
solid_area=11,9,22,20
on_create="set(fall_through_platforms,-1)"
on_collide_side="[set(hitpoints, hitpoints-1), set(velocity_x, -(velocity_x*6)/10)]"
on_collide_feet="[set(hitpoints, hitpoints-1), set(velocity_x, if(abs(velocity_x)>150, (velocity_x*9)/10,0)), set(velocity_y, if(abs(velocity_y)>150, -(velocity_y*3)/10, 0)), set(rotate, rotate+(45*facing))]"
on_collide_head="set(velocity_y, (-velocity_y))"
on_collide_object_attack="if(collide_with_area = 'body' and team != collide_with.team, die())"

on_process_thrown="[set(rotate, rotate+(2*facing)),if(is_standing,set(velocity_x,(velocity_x*99)/100)),if(cycle > 500, die())]"

on_process="[if(not vars.has_been_spat, set(accel_y, max(80 - cycle*3,40)))]"

on_enter_water="die()"
on_die="death_burst(self)"
	[base:animation]
	image=props/acorns.png
	rotate_on_slope=yes
	accel_x=0
	accel_y=80
	body_area=all
	[/animation]
		
	[animation]
	id=appear
	rect=1,1,45,29
	frames=3
	accel_y=0
	[/animation]

	[animation]
	id=thrown
	rect=97,1,141,29
	frames=1
	attack_area=7,5,26,24
	[/animation]
[/object_type]
