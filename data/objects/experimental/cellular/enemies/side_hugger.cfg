[object_type]
  id=side_hugger
  prototype=evil_cell

  [properties]
    type="side_hugger"
  [/properties]

  [editor_info]
    [var]
    name=reverse
    type=boolean
    value="0"
    [/var]
  [/editor_info]

  hitpoints=10
  solid_area=0,0,13,13
  timer_frequency=35

  on_timer="[
    if(abs(midpoint_x - level.player.midpont_x) > 30, set(accel_x, 50*if(midpoint_x < level.player.midpoint_x,-1,1)*if(facing=1,-1,1))),
    if(abs(midpoint_x - level.player.midpont_x) < 20, set(accel_x, -50*if(midpoint_x < level.player.midpoint_x,1,-1)*if(facing=1,-1,1))),
    set(accel_y, 1d10*2*if(midpoint_y < level.player.midpoint_y, 1, -1)),

    if(midpoint_x > level.player.midpoint_x,
      spawn('redbullet',midpoint_x,midpoint_y,0,[set(trackx,level.player.midpoint_x), set(tracky,level.player.midpoint_y)])
    )
  ]"

  [base:animation]
    image=experimental/cellular/side_hugger.png
    accel_x=0
    accel_y=0
    pad=0
    body_area=all
  [/animation]
  [animation]
    id=stand_north
    rect=2,2,14,14
    frames=1
    duration=6
  [/animation]
[/object_type]

