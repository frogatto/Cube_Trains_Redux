
[object_type]
	id=rope_angled_controller
	ignore_collide=true
	
 	[editor_info]
 	category=controllers
 	help="A controller for angled ropes."
 		[var]
			name=x_1
 			type=x
 			value="x-100"
 		[/var]
		[var]
 			name=y_1
 			type=y
 			value="y-100"
 		[/var]
		[var]
 			name=x_2
 			type=x
 			value="x+100"
 		[/var]
		[var]
 			name=y_2
 			type=y
 			value="y+100"
 		[/var]
 	[/editor_info]
	
	[properties]
		length="length(x_1,y_1,x_2,y_2)"
		set_bounds="def(new_x1,new_y1,new_x2,new_y2) [set(x_1,new_x1),set(y_1,new_y1),set(x_2,new_x2),set(y_2,new_y2)]"
	[/properties]
	
	on_create="[
		set(x, (x_2+x_1)/2),
		set(y, (y_2+y_1)/2 - (length/2)),
		set(draw_area, [0, 0, 4, length/2]),
		set(rotate,(angle(x_1,y_1,x_2,y_2)-90) )
	]"
	
	[animation]
	image=props/rope-vertical.png
	id=normal
	x=0
	w=4
	y=0
	h=4
	[/animation]
	
[/object_type]