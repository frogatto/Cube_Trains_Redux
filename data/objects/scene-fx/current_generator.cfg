	[object_type]
	id=current_generator
	ignore_collide=true
	body_harmful=no
	body_passthrough=yes
	
	#hack to make it invisible in game, but visible in editor.
	on_create="[set('alpha',0),
		set('current_generator', rect_current(zone_x1, zone_y1 ,abs(zone_x1 - zone_x2) ,abs(zone_y1 - zone_y2) , current_vel_x, current_vel_y, strength))]"
	on_process="map([0]*3,spawn('current_particle', zone_x1 + 1d(abs(zone_x1 - zone_x2)), zone_y1 + 1d(abs(zone_y2 - zone_y1)) , facing, [set('velocity_x',current_vel_x), set('velocity_y',current_vel_y)]  ))"
	
	on_end_anim="animation('normal')"
	zorder=50
		[animation]
		id=normal
		image=effects/particles.png
		x=86
		y=11
		w=28
		h=28
		frames=1
		duration=1000
		[/animation]
	[/object_type]
