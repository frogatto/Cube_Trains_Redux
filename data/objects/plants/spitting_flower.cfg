
	[object_type]
	id=spitting_flower
	prototype=stationary_vulnerable
	hitpoints=4
	zorder=0
	[vars]
		team="'evil'"
		points_value="50"
		damage=1
	[/vars]
	
	
	on_end_anim="if(animation = 'normal',
	                   if(vars.load >= vars.loading_time,
					     [animation('fire'), set_var('load', 0)],
						 [animation('normal'), set_var('load', vars.load + 1)]),
					      animation('normal'))"
	on_shoot="[spawn('pollen_ball_weightless', midpoint_x+ facing*50, midpoint_y -15, facing, set(velocity_x,800*facing)),sound('FlowerShot.ogg')]"

	solid_area=6,2,24,30

		[base:animation]
		image=enemies/spittingflower.png
		pad=3
		accel_y=80
		body_area=all
		[/animation]
		
		[animation]
		id=normal
		rect=83,2,114,33
		frames=3
		frames_per_row=1
		reverse=yes
		duration=5
		[/animation]

		[animation]
		id=fire
		image=enemies/spittingflower.png
		rect=4,4,35,35
		collide=6,2,24,32
		frames=4
		frames_per_row=2
		duration=8
		events="20:shoot"
		[/animation]

		[animation]
		id=hurt
		rect=83,2,114,33
		[/animation]

	[/object_type]
