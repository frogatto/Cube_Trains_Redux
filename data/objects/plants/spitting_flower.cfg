
	[object_type]
	id=spitting_flower
	on_end_anim="if(animation = 'normal',
	                   if(vars.load >= vars.loading_time,
					     [animation('fire'), set_var('load', 0)],
						 [animation('normal'), set_var('load', vars.load + 1)]),
					      animation('normal'))"
	on_shoot="[spawn('pollen_ball_weightless', midpoint_x+ facing*50, midpoint_y -15, facing, set('velocity_x',800*facing)),sound('FlowerShot.ogg')]"
	body_harmful=no
		[animation]
		id=normal
		image=enemies/spittingflower.png
		rect=83,2,114,33
		collide=6,2,24,32
		frames=3
		frames_per_row=1
		pad=3
		reverse=yes
		duration=5
		[/animation]

		[animation]
		id=fire
		image=enemies/spittingflower.png
		rect=4,4,35,35
		collide=6,2,24,32
		frames=4
		frames_per_row=2
		pad=3
		duration=8
		events="20:shoot"
		[/animation]
	[/object_type]
