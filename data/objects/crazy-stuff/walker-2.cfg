[object_type]
	id=walker-2
	is_human=true

	[editor_info]
		category=player
		help="A small car-sized robot, used to scale cliffs. Warning: Do not occupy."
	[/editor_info]

	[consts]
		axels=[[-28,4], [56,4]]
	[/consts]
	
	
#	consts list:
#	axels - [[x,y], â€¦, [x,y]] A list of spots to anchor legs to. Function returns corrected for rotation.
#	
#	
#	vars list:
#	axRot - list of rotations for the legs attached to axels.
#	
#	functions list:
#	spnTmpDbg(self, coordinate pair) - Makes a one frame long target image.

	functions="
		def getAxels (self) 
			map(range(size(axels)), 'axel_num', 
				#At this point, 'axel' is an x,y pair.#
				map(range(2), 'n', rot_axel[n]+midpoint[n])
				where rot_axel = orbit_obj(0, 0,
											angle(0, 0, axel[0], axel[1]) + rotate,
											length(0, 0, axel[0], axel[1]))
				where axel = axels[axel_num])
			where axels = self.consts.axels
			where midpoint = [self.midpoint_x, self.midpoint_y]
			where rotate = self.rotate;
		
		def spnTmpDbg (self, crd) [
			spawn('walker-2.dbg', crd[0], crd[1], self.facing, [die()] )
		];
		
		def spnDbg (self, crd) [
			spawn('walker-2.dbg', crd[0], crd[1], self.facing)
		];
		
		def halfDim (self) [
			[self.midpoint_x - self.x, self.midpoint_y - self.y]
		];
		
	"
	
	on_create = "[
		spnDbg(self, [self.midpoint_x, self.midpoint_y]),
	]"
	
	on_ctrl_right = "[
		debug(getAxels(self)),
	]"
	
	on_ctrl_left = "[
		#set(x, x-50),#
		set(rotate, rotate + 20),
	]"
	
	on_process = "[
		map(getAxels(self), 'crd', spnTmpDbg(self, crd)),
	]"
	
	on_end_anim="animation('normal')"
	
	[animation]
		id=normal
		image=experimental/spiderbot.png
		rect=11,9,108,52
		pad=0
		frames=1
		duration=1000
		item_area=all
	[/animation]
	
	[object_type]
		id=upper-leg
		
		[animation]
			id=normal
			image=experimental/spiderbot.png
			rect=10,64,21,105
			pad=0
			frames=1
			duration=1000
			item_area=all
		[/animation]
	[/object_type]
	
	[object_type]
		id=lower-leg
		
		on_end_anim="animation('normal')"
		
		[animation]
			id=normal
			image=experimental/spiderbot.png
			rect=34,64,41,122
			pad=0
			frames=1
			duration=1000
			item_area=all
		[/animation]
	[/object_type]
	
	[object_type]
		id=dbg
		z=150
		
		on_end_anim="animation('normal')"
		
		[animation]
			id=normal
			image=experimental/spiderbot.png
			rect=87,65,94,72
			pad=0
			frames=2
			duration=5
			item_area=all
		[/animation]
	[/object_type]
	
	
	
[/object_type]