
	[object_type]
	id=playable_plane
	hitpoints=1
	mass=5
	springiness=100
	friction=5
	vehicle=true

	on_create="[set(hitpoints, 1), animation('stand')]"
	#on_collide_with="set('hitpoints', hitpoints - 1)"
	on_die="[spawn('die_cloud', midpoint_x, midpoint_y, facing)]"
	on_process="[if(driver and ctrl_down and ctrl_jump, unboard()),
	             if((ctrl_left and facing > 0) or (ctrl_right and facing < 0),
	            [facing(-facing), animation('fly')], null()),
	            
	           	if(ctrl_up,  set(accel_y, -40),  set(accel_y,0)),
	           	if(ctrl_down, set(accel_y, min(accel_y + 40, 40)),  null())]"
	on_end_anim="animation('fly')"
	
		[animation]
		id=stand
		image=vehicles/plane.png
		rect=11,2,79,70
		collide=12,23,55,60
		feet_x=36
		feet_y=60
		frames=1
		pad=3
		duration=100000
		[/animation]
		
		[animation]
		id=fly
		image=vehicles/plane.png
		rect=94,2,162,70
		collide=12,23,55,60
		feet_x=36
		feet_y=60
		frames=4
		pad=3
		duration=1
		accel_x=30
		[/animation]

	[/object_type]
