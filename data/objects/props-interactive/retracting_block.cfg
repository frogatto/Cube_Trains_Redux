
	[object_type]
	id=retracting_block

	[editor_info]
	category=props
		[var]
		name=time_offset
		value="0"
		[/var]
	[/editor_info]


	has_feet=no
	on_create="[animation('retracted'), set(time_in_animation,time_offset)]"
	on_end_retracted_anim="animation('extending')"
	on_end_extending_anim="animation('extended')"
	on_end_retracting_anim="animation('retracted')"
	on_change_animation_failure="animation(previous_animation)"
	zorder=-2

	solid_dimensions=player,common
	solid_area=8,15,7,15
		[animation]
		id=retracted
		image=props/retracting-blocks.png
		rect=64,12,79,29
		frames=1
		duration=200
		[/animation]

		[animation]
		id=retracting
		image=props/retracting-blocks.png
		rect=16,12,31,29
		collide=0,0,15,15
		frames=3
		duration=10
		solid_area=0,0,15,15
		play_backwards=true
		[/animation]
		
		[animation]
		id=extending
		image=props/retracting-blocks.png
		rect=16,12,31,29
		collide=0,0,15,15
		frames=3
		duration=8
		solid_area=0,0,15,15
		[/animation]

		[animation]
		id=extended
		image=props/retracting-blocks.png
		rect=0,12,15,29
		collide=0,0,15,15
		frames=1
		duration=40
		solid_area=0,0,15,15
		[/animation]

	[/object_type]
