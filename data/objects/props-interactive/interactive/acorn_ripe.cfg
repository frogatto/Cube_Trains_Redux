[object_type]
id="acorn_ripe"
dies_on_inactive=yes
friction=1000

[consts]
	basic_type="'acorn_ripe'"
[/consts]
[properties]
	team="if(has_been_spat,'player','evil')"
[/properties]
[vars]
	has_been_spat=0
[/vars]

on_spat="[set(vars.has_been_spat, 1), set(fall_through_platforms,10000)]"

tags=swallowable
solid_area=11,9,22,20
on_collide_side="set(velocity_x, -(velocity_x*6)/10)"
on_collide_feet="[set(velocity_x, if(abs(velocity_x)>150, (velocity_x*9)/10,0)), set(velocity_y, if(abs(velocity_y)>150, -(velocity_y*3)/10, 0)), set(rotate, rotate+(45*facing))]"
on_collide_head="set(velocity_y, (-velocity_y))"
on_collide_object_attack="if(collide_with_area = 'body' and team != collide_with.team, die())"

on_process_thrown="[set(rotate, rotate+(2*facing)),if(is_standing,set(velocity_x,(velocity_x*99)/100)),if(cycle > 500, die())]"

on_enter_water="die()"
on_die="death_burst(self)"
	[base:animation]
	image=props/acorns.png
	rotate_on_slope=yes
	accel_x=0
	accel_y=80
	body_area=all
	[/animation]

	[animation]
	id=normal
	rect=97,1,141,29
	frames=1
	[/animation]
	
	[animation]
	id=thrown
	rect=97,1,141,29
	frames=1
	[/animation]
[/object_type]
