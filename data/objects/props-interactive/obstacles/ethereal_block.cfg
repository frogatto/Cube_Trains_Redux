{
id: "ethereal_block",
has_feet: false,
#always_active: true,#
solid_area: [0,16,31,47],
solid_dimensions: ["player","common"],
hitpoints: 4,

on_start_level: "[add(variations, [vars.color]), animation(vars.start_anim)]",


on_end_anim: "animation(animation)",
zorder: 0,

on_triggered: "[if(animation = 'normal', [animation('ethereal'),set(solid_dimensions_in, [])], [animation('normal'),set(solid_dimensions_in, ['player','common'])]) ] ",

on_toggled: "set(animation, if(animation = 'normal', 'ethereal', 'normal'))",

on_enter_normal_anim: "[set(solid_dimensions_in, ['player', 'common']), set(alpha, 255)]",
on_enter_ethereal_anim: "[set(solid_dimensions_in, []), set(alpha, 55)]",

editor_info: {
	category: "props",
	var: [
		{
			name: "color",
			type: "enum",
			value: "'grey'",
			enum_values: "grey,blue,red,green",
		},
		{
		    name: "start_anim",
		    type: "enum",
		    value: "'normal'",
		    enum_values: "normal,ethereal",
		}
	],
},
animation: [
	{
		id: "normal",
		image: "props/cement-block-ethereal.png",
		rect: [0,0,31,63],
		frames: 1,
		duration: 1000,
		feet_x:16,
		feet_y:16,
	},
	{
		id: "ethereal",
		image: "props/cement-block-ethereal.png",
		rect: [0,64,31,127],
		frames: 1,
		duration: 1000,
		feet_x:16,
		feet_y:16,
	},
],
variations: {
	grey:	"null",
	blue:	"[map(filter(doc.animation, rect = [0,0,31,63]), 'anim', set(anim.rect, [32,0,63,63]))]",
	red:	"[map(filter(doc.animation, rect = [0,0,31,63]), 'anim', set(anim.rect, [64,0,95,63]))]",
	green:	"[map(filter(doc.animation, rect = [0,0,31,63]), 'anim', set(anim.rect, [96,0,127,63]))]",
},

}
