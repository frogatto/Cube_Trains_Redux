[object_type]
	id=large_breakable_block


	[editor_info]
	category=props
	[/editor_info]


	hitpoints=5
	has_feet=no
	on_die="[score(level,10),sound('BlockBreak.ogg'), map([0] * 30, spawn('breakable_block_particle', x + 1d30, y + 1d30, facing))]"

	on_collide_object_body=" if(collide_with_area = 'attack',
	if(not (me in collide_with.tmp.already_hit), [set(collide_with.tmp, 'already_hit', collide_with.tmp.already_hit + [me]), 
	  add(hitpoints, -1),
	  if(hitpoints > 1, set(animation, 'normal' + (hitpoints-1)))]))"
		
	zorder=-1
	solid_area=0,0,47,47

		[base:animation]
		image=props/blocks.png
		body_area=all
		[/animation]

		[animation]
		id=normal5
		rect=144,0,191,47
		frames=1
		duration=1000000
		[/animation]
		[animation]
		id=normal4
		rect=144,48,191,95
		frames=1
		duration=1000000
		[/animation]
		[animation]
		id=normal3
		rect=144,96,191,143
		frames=1
		duration=1000000
		[/animation]
		[animation]
		id=normal2
		rect=144,144,191,191
		frames=1
		duration=1000000
		[/animation]
		[animation]
		id=normal1
		rect=144,192,191,239
		frames=1
		duration=1000000
		[/animation]
[/object_type]
