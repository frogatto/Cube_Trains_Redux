	[object_type]
	id=kitty_sword
	prototype=kitty

	[vars]
		damage=1
		points_value=50
		turns_at_cliffs=1
		turns_towards_player=1
	[/vars]
	
	on_end_walk_anim="if(1d4 = 4, animation('stand'), consider_attacking(self,level))"

    on_end_lunge_attack_anim="animation('stand')"
    on_end_jump_attack_anim="animation('stand')"
 
	solid_area=13,9,23,29

	functions="
	  #looks for the player and turns to face it#	
	  def set_facing(obj,level) if(desired_facing != obj.facing, [animation('turn'),set_value(obj,'facing', desired_facing)], animation('walk')
	           ) where desired_facing = if(level.player.x < obj.x, -1, 1);

	  #if the player is in an opportune spot, attack it#	
	  def consider_attacking(obj,level) if((desired_facing = obj.facing) and (abs(level.player.x - obj.x) < 150) and (abs(level.player.y - obj.y) < 50), animation('jump_attack'), animation('walk')
	           ) where desired_facing = if(level.player.x < obj.x, -1, 1);
	1"


		[base:animation]
		image=enemies/kitty-sword.png
		pad=3
		accel_x=0
		accel_y=80
		body_area=all
		[/animation]

		[animation]
		id=stand
		rect=8,2,59,35
		frames=1
		duration=18
		[/animation]

		[animation]
		id=turn
		rect=63,2,114,35
		frames=3
		duration=2
		solid_area=21,9,31,29
		[/animation]

		[animation]
		id=walk
		rect=229,2,276,37
		harm_area=29,15,47,30
		frames=4
		duration=6
		accel_x=300
		[/animation]

		[animation]
		id=spring
		reverse=yes
		rect=3,41,59,76
		frames=5
		duration=4
		[/animation]

		[animation]
		id=hurt
		rect=61,119,115,170
		solid_area=13,26,23,46
		frames=1
		duration=18
		events="6:12:18:hurtflicker"
		[/animation]

		[animation]
		id=lunge_attack
		rect=3,80,59,115
		frames=5
		duration=4
		accel_x=900
		[/animation]
		
		[animation]
		id=jump_attack
		rect=3,119,57,170
		frames=8
		frames_per_row=4
		duration=4
		accel_x=300
		solid_area=13,26,23,46
		[/animation]
	
	[/object_type]
