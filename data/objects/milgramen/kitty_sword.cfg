	[object_type]
	id=kitty_sword
	hitpoints=12
	#body_harmful=no
	springiness=100
	on_create="animation('stand')"
	on_die="[score(50), spawn('die_cloud', midpoint_x, midpoint_y, facing), spawn_item(me)]"
	on_jumped_on="[animation('spring')]"
	on_end_spring_anim="animation('walk')"
	on_hit_by_player="[set('hitpoints', hitpoints - hit_by.damage),animation('hurt'),set('green', 100), set('blue', 100), set('velocity_y',-600),set('velocity_x',400*hit_by.facing)]"
	on_hurtflicker="if(green = 100,[set('green', 255), set('blue', 255)],[set('green', 100), set('blue', 100)])"
	on_end_hurt_anim="[set('green', 255), set('blue', 255),animation('stand')]"
	on_end_walk_anim="if(desired_facing != facing, animation('turn'), if (abs(level.player.x - x) < 300, if((level.player.y < (y - 50)) and (abs(level.player.x - x) > 80), animation('jump_attack') , animation('lunge_attack')),animation('walk')))
                         where desired_facing = if(level.player.x < x, -1, 1)"
	on_end_turn_anim="[set('facing', if(level.player.x < x, -1, 1)), animation('walk')]"
	on_end_stand_anim="if((desired_facing != facing) and is_standing, animation('turn'), if(is_standing, animation('walk'), animation('stand')))
                         where desired_facing = if(level.player.x < x, -1, 1)"
    on_end_lunge_attack_anim="animation('stand')"
    on_end_jump_attack_anim="animation('stand')"
    on_jump_for_attack="[set('velocity_x',600 * facing),set('velocity_y',-1200)]"
	on_process="if(is_standing and animation = 'walk',set('velocity_y',0),0)"

	
		[animation]
		id=walk
		image=kitty-sword.png
		rect=229,2,276,37
		pad=3
		collide_x=10
		collide_y=11
		collide_w=18
		collide_h=20
		hit_x=29
		hit_y=15
		hit_w=18
		hit_h=15
		hit_frames=0,1,2,3
		feet_x=20
		feet_y=32
		frames=4
		duration=8
		accel_y=40
		velocity_x=300
		[/animation]

		[animation]
		id=spring
		reverse=yes
		image=kitty-sword.png
		rect=3,41,59,76
		pad=3
		collide_x=10
		collide_y=11
		collide_w=18
		collide_h=20
		hit_x=29
		hit_y=15
		hit_w=18
		hit_h=15
		feet_x=20
		feet_y=32
		frames=5
		duration=4
		accel_y=40
		[/animation]

		[animation]
		id=hurt
		image=kitty-sword.png
		rect=61,119,115,170
		pad=3
		collide_x=10
		collide_y=25
		collide_w=18
		collide_h=20
		feet_x=20
		feet_y=47
		frames=1
		duration=18
		events="6:12:18:hurtflicker"
		accel_y=40
		[/animation]
	
		[animation]
		id=stand
		image=kitty-sword.png
		rect=8,2,59,35
		pad=3
		collide_x=10
		collide_y=11
		collide_w=18
		collide_h=20
		hit_x=29
		hit_y=15
		hit_w=18
		hit_h=15
		hit_frames=0
		feet_x=20
		feet_y=32
		frames=1
		duration=4
		accel_y=40
		[/animation]

		[animation]
		id=turn
		image=kitty-sword.png
		rect=63,2,114,35
		pad=3
		collide_x=10
		collide_y=11
		collide_w=18
		collide_h=20
		feet_x=28
		feet_y=32
		frames=2
		duration=4
		accel_y=40
		[/animation]

		[animation]
		id=lunge_attack
		image=kitty-sword.png
		rect=3,80,59,115
		pad=3
		collide_x=10
		collide_y=11
		collide_w=18
		collide_h=20
		hit_x=34
		hit_y=10
		hit_w=16
		hit_h=18
		hit_frames=2,3,4
		feet_x=20
		feet_y=32
		frames=5
		duration=4
		accel_y=40
		velocity_x=900
		[/animation]

		[animation]
		id=jump_attack
		image=kitty-sword.png
		rect=3,119,57,170
		pad=3
		collide_x=10
		collide_y=11
		collide_w=18
		collide_h=20
		hit_x=32
		hit_y=12
		hit_w=22
		hit_h=32
		hit_frames=6,7
		feet_x=18
		feet_y=47
		frames=8
		frames_per_row=4
		duration=4
		accel_y=40
		events="6:jump_for_attack"
		velocity_x=900
		[/animation]

	[/object_type]
