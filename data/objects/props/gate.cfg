[object_type]
	id=gate
	zorder=-2	
	has_feet=no
	always_active=yes

	[editor_info]
	category=props
		[var]
		name=is_locked
		value="0"
		type=boolean
		[/var]
	[/editor_info]
	
	
	timer_frequency=100
	on_create="if(is_locked, animation('locked'), animation('unlocked'))"
	on_end_locked_anim="if(is_locked,animation('locked'),animation('opening'))"
	on_end_unlocked_anim="if(is_locked,animation('closing'),animation('unlocked'))"
	
	on_end_closing_anim="animation('locked')"
	on_end_opening_anim="animation('unlocked')"
	
	on_lock="set(is_locked,1)"
	on_unlock="set(is_locked,0)"
		[base:animation]
		image=props/gate.png
		pad=3
		[/animation]

		
		[animation]
		id=locked
		solid_area=7,19,21,85
		rect=2,2,31,104
		frames=1
		duration=30
		[/animation]
		
		[animation]
		id=opening
		solid_area=7,19,21,85
		rect=2,2,31,104
		frames=6
		duration=7
		[/animation]

		[animation]
		id=closing
		solid_area=7,19,21,85
		rect=2,2,31,104
		frames=6
		duration=4
		play_backwards=yes
		[/animation]
		
		[animation]
		id=unlocked
		rect=167,2,196,104
		frames=1
		duration=30
		solid_area=7,19,21,85
		[/animation]
[/object_type]
