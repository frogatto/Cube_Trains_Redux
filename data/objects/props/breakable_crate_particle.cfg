	[object_type]
	id=breakable_crate_particle
	object_level_collisions=yes
	dies_on_inactive=yes

	on_create="[animation('normal' + 1d5), set('velocity_x', 1d1000*level.player.facing), set('velocity_y', 1d2000 - 1000), set('rotate', 0), set_var('rotation', 1d20)]"
	on_process="[set(velocity_x, (((velocity_x + (slope_standing_on / 2)) * 990) / 1000) - (underwater * (velocity_x * 2) / 10)),
	set(velocity_y, ((velocity_y * 997) / 1000) + underwater * (((velocity_y * 9) / 10) - velocity_y + 90))]"
	on_collide_head="set('velocity_y', -velocity_y)"
	on_collide_feet="[set('velocity_x', (velocity_x*70)/100), set('velocity_y', -velocity_y/2)]"
	
	
	
	on_enter_water="[
	add_wave(midpoint_x, y2, -2000, 5*velocity_y/5, 30*velocity_y, 300, 300),
	add_wave(midpoint_x, y2, 2000, 5*velocity_y/5, 30*velocity_y, 300, 300),
	add_wave(midpoint_x, y2, -1000, 3*velocity_y/5, 20*velocity_y, 200, 200),
	add_wave(midpoint_x, y2, 1000, 3*velocity_y/5, 20*velocity_y, 200, 200),
	add_wave(midpoint_x, y2, -500, 2*velocity_y/5, 10*velocity_y, 100, 100),
	add_wave(midpoint_x, y2, 500, 2*velocity_y/5, 10*velocity_y, 100, 100)
	]"
	
	zorder=10
	solid_area=all

		[base:animation]
		image=props/blocks.png
		accel_y=70
		frames=1
		duration=100
		body_area=all
		[/animation]

		[animation]
		id=normal1
		rect=32,21,35,24
		[/animation]

		[animation]
		id=normal2
		rect=37,21,41,25
		[/animation]

		[animation]
		id=normal3
		rect=43,21,47,25
		[/animation]

		[animation]
		id=normal4
		rect=50,18,54,24
		[/animation]

		[animation]
		id=normal5
		rect=56,18,62,22
		[/animation]
	[/object_type]
