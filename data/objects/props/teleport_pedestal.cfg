	[object_type]
	id=teleport_pedestal
	body_harmful=no

	teleport_offset_x=-64
	teleport_offset_y=-100

	on_stood_on="[if(animation != 'glow', animation('glow')), set('last_stood_on', cycle)]"
	on_end_glow_anim="[animation('normal'),
	if((last_stood_on = cycle) or (last_stood_on = cycle - 1),
	if(dest_level and dest_door, [teleport(dest_level, dest_door),sound('teleport.ogg')]) )]"

		[animation]
		id=normal
		image=props/teleport_pedestal.png
		rect=6,3,41,28
		collide=2,2,34,25
		duration=200
		[/animation]

		[animation]
		id=glow
		image=props/teleport_pedestal.png
		rect=45,3,80,28
		collide=2,2,34,25
		frames=3
		pad=3
		duration=50
		[/animation]
		
		
	[/object_type]
