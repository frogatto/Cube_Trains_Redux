[level]
air_resistance="5"
auto_move_camera="0,0"
camera_rotation="wave(cycle*5)*2"
height="2000"
title="The Blassy Bliss"
width="5300"
xscale="100"
yscale="100"
	[solid_rect]
	damage="0"
	friction="18"
	rect="176,656,1539,676"
	[/solid_rect]
	[solid_rect]
	damage="0"
	friction="18"
	rect="176,462,423,653"
	[/solid_rect]
	[solid_rect]
	damage="0"
	friction="18"
	rect="350,426,479,517"
	[/solid_rect]
	[solid_rect]
	damage="0"
	friction="18"
	rect="1144,352,1501,659"
	[/solid_rect]
	[solid_rect]
	damage="0"
	friction="18"
	rect="1040,627,1131,643"
	[/solid_rect]
	[solid_rect]
	damage="0"
	friction="18"
	rect="1072,610,1131,643"
	[/solid_rect]
	[solid_rect]
	damage="0"
	friction="18"
	rect="1096,592,1131,643"
	[/solid_rect]
	[tile_map]
	tiles="
,
,
,
,
,
,
,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"
	variations="
0"
	x="0"
	y="0"
	zorder="1"
	[/tile_map]
	[character]
	custom="yes"
	face_right="yes"
	on_die="[dialog('You defeated me? No. No! How can this be?'),
	         spawn('die_cloud', x + 1d100, y + 1d100, 1),
	         spawn('die_cloud', x + 1d100, y + 1d100, 1),
	         spawn('die_cloud', x + 1d100, y + 1d100, 1),
	         spawn('die_cloud', x + 1d100, y + 1d100, 1),
	         spawn('die_cloud', x + 1d100, y + 1d100, 1),
	         spawn('die_cloud', x + 1d100, y + 1d100, 1),
	         spawn('die_cloud', x + 1d100, y + 1d100, 1),
	         spawn('die_cloud', x + 1d100, y + 1d100, 1),
	         spawn('die_cloud', x + 1d100, y + 1d100, 1),
	         spawn('die_cloud', x + 1d100, y + 1d100, 1),
		     end_game()]"
	on_end_anim="[if(animation = 'teleport', [if(x < 500, [set('x', 1300), set('facing', -1)], [set('x', 300), set('facing', 1)]), set('y', 200)]), animation('normal')]"
	on_hit_by_player="[if(hitpoints = max_hitpoints, dialog('You think you will get me that easily? Teleporter, on!')), animation('teleport'), set('hitpoints', hitpoints - 1)]"
	on_process="if(level.cycle = 100, [speech_dialog(me, level, 'You will never defeat me! Come my kittens, come and destroy the intruder!'), scroll_to(level.player)])"
	time_in_frame="0"
	type="boss"
	x="300"
	y="300"
		[vars]
		[/vars]
		[type]
		hitpoints="5"
		id="boss"
			[animation]
			accel_y="100"
			collide="6,6,50,58"
			duration="10"
			feet_x="26"
			feet_y="58"
			frames="1"
			id="normal"
			image="boss.png"
			rect="0,0,54,58"
			[/animation]
			[animation]
			accel_y="100"
			collide="6,6,50,50"
			duration="10"
			feet_x="26"
			feet_y="50"
			frames="1"
			id="teleport"
			image="boss.png"
			image_formula="rgba(a,a,a,a)"
			rect="0,0,54,58"
			[/animation]
		[/type]
	[/character]
	[character]
	custom="yes"
	face_right="no"
	on_end_anim="[animation('normal'), if(level.num_active < 5, child('kitty', 845, 570))]"
	time_in_frame="0"
	type="kitty_portal"
	x="700"
	y="400"
		[vars]
		[/vars]
		[type]
		id="kitty_portal"
			[animation]
			duration="200"
			frames="1"
			id="normal"
			image="boss.png"
			rect="0,0,0,0"
			[/animation]
			[child]
			child_id="kitty"
			face_right="false"
			formula_test_frequency="1"
			type="spear_kitten"
			walk_formula="facing*if(collided, -1, 1)"
			[/child]
		[/type]
	[/character]
	[character]
	face_right="true"
	formula_test_frequency="10"
	is_human="true"
	type="frogatto"
	velocity_x="0"
	velocity_y="0"
	x="672"
	y="-512"
	[/character]
	[portal]
	automatic="yes"
	dest="20,0"
	level="level2.cfg"
	rect="5300,0,6027,10028"
	[/portal]
	[background]
	bottom="ffffff"
	height="1200"
	top="64b0ad"
	width="10000"
		[layer]
		image="blasslybliss.png"
		scale="2"
		xscale="50"
		yoffset="0"
		yscale="50"
		[/layer]
		[layer]
		image="water.png"
		scale="4"
		xscale="25"
		yoffset="540"
		yscale="25"
		[/layer]
	[/background]
[/level]
